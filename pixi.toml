# Pixi project configuration for BW-Tree

[workspace]
name = "bw-tree"
version = "0.0.1"
description = "SOTA latch-free BW-Tree with MVCC, delta chains, and SIMD optimization"
channels = ["conda-forge", "https://conda.modular.com/max-nightly/"]
platforms = ["osx-arm64", "linux-64", "linux-aarch64"]

[dependencies]
max = "*"
python = ">=3.11,<3.14"

[tasks]
# Test tasks
test-atomic = "mojo run -I . tests/test_atomic.mojo"
test-bwtree = "mojo run -I . tests/test_bwtree.mojo"
test-epoch = "mojo run -I . tests/test_epoch.mojo"
test-backoff = "mojo run -I . tests/test_backoff.mojo"
test-integrated = "mojo run -I . tests/test_integrated.mojo"
test-all = { depends-on = ["test-atomic", "test-bwtree", "test-epoch", "test-backoff", "test-integrated"] }

# Benchmark tasks
bench = "mojo run -I . benchmarks/bench_basic_ops.mojo"

# Development tasks
check-version = "mojo --version"
